<div  class="d-flex justify-content-center mb-3 mt-5">
    <h1>Agenda tu cita</h1>
</div>

<h3>Dispensario Medico</h3>

<div id="divform"  class="border border-success p-2 mx-4" style="--bs-border-opacity: .5;">
 
<form  [formGroup]="formselect" (ngSubmit)="getHorarios()">

<label for="slubi">Seleccionar Ubicacion:</label>

<select formControlName="slubi" id="slubi" (change)="onUbicacionChange($event)">
    <option value="">Escoja una opciona...</option>
    <option value="Norte">Norte</option>
    <option value="Sur">Sur</option>
    
  
  
</select>
<label for="slespe">Especialidad:</label>
<select formControlName="slespe" id="slespe">
    <option value="">Escoja una opcion...</option>
    @for (elem of especialidades; track elem.idespecialidad) {
   
      <option value="{{elem.especialidad1}}" >
          {{elem.especialidad1}}
      </option>
      }
  

</select>


<button type="button" [disabled]="!formselect.valid"class="btn btn-primary mx-5 px-5" name="btbuscar" (click)="getHorarios()"> Buscar</button>
</form>

</div>

<div  class="border border-success p-2 mx-4 " style="--bs-border-opacity: .5;" >
    <table class="table table-hover mat-elevation-z8 demo-table">
        <thead>
          <tr >
            <th scope="col" >#</th>
            <th scope="col" hidden>IDDoctor</th>
            <th scope="col">Doctor</th>
            <th scope="col">Especialidad</th>
            <th scope="col">Horario</th>
            <th scope="col">Direccion</th>
            <th scope="col">Habitacion</th>
            <th scope="col">Disponibilidad</th>
          </tr>
        </thead>
        <tbody>
          @for (elem of horarios; track elem.$id) {
          <tr (click)="selectHorario(elem)"   
          
          [ngClass]="{'demo-row-is-clicked': selectedHorario?.$id === elem.$id}">
         
          
            <td >{{elem.$id}}</td>
       
            <td >{{elem.nombreDoctor }}</td>
            <td>{{elem.especialidad}}</td>
            <td>{{ elem.fechaHora}}</td>
            <td>{{elem.direccion}}</td>
            <td>{{elem.habitacion}}</td>
            <td>{{elem.disponibilidad}}</td>
           
          </tr>
        }
        </tbody>
      </table>

</div>
<span class="spn">Horario seleccionado: {{ selectedHorario?.fechaHora }}</span>

<div id="divbt"class="d-flex justify-content-lg-end">
    <button id="btacep"type="button"[disabled]="!selectedHorario" class="btn btn-success" (click)="navigateToVenta()">Aceptar</button>
</div>
<p>

</p>
